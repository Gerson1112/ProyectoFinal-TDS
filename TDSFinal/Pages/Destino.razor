@page "/destinos"
@using RestSharp
@using System.Net
@using Newtonsoft.Json
@using Microsoft.Extensions.Logging

<PageTitle>Destinos</PageTitle>

<div class="menu-box">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="heading-title text-center">
					<h2>Destinos Turisticos</h2>
						
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<div class="special-menu text-center">
					<div class="button-group filter-button-group">
						<button class="active" data-filter="*">Todas</button>
						<button data-filter=".norte">Norte </button>
						<button data-filter=".sur">Sur</button>
						<button data-filter=".este">Este</button>
					</div>
				</div>
			</div>
		</div>
				
		<div class="row special-list">
			@if (Datos != null)
				@foreach (var i in Datos)
			{
				<div class="col-lg-4 col-md-6 special-grid entradas">
				<div class="gallery-single fix">
					<img src="@Datos.foto" class="img-fluid" alt="jsdhgaskjdhgaskjdhga">
					<div class="why-text">
						<h4>@Datos.destino</h4>
					</div>
				</div>
			</div>
			}
		</div>
	</div>
</div>

@code{
	private string? message;
	private addModelDTO[]? data;
	public dynamic Datos { get; set; }

	protected override async Task OnInitializedAsync()
	{
		try
        {
            Uri url = new Uri("https://localhost:44380/api/Turismo");
            WebClient client = new WebClient();
            var data = await client.DownloadStringTaskAsync(url);
            Datos = JsonConvert.DeserializeObject(data);
			Console.WriteLine(Datos);
        }
        catch (Exception)
        {

            throw;
        }
	}
}